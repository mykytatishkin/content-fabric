# üéµ Background Preservation - –ì–∞–π–¥

## üéØ –ß—Ç–æ —ç—Ç–æ?

–§—É–Ω–∫—Ü–∏—è **Background Preservation** –ø–æ–∑–≤–æ–ª—è–µ—Ç:
1. ‚úÖ **–û—Ç–¥–µ–ª–∏—Ç—å –≥–æ–ª–æ—Å** –æ—Ç –º—É–∑—ã–∫–∏/—ç—Ñ—Ñ–µ–∫—Ç–æ–≤
2. ‚úÖ **–ò–∑–º–µ–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –≥–æ–ª–æ—Å** (Voice Changer)
3. ‚úÖ **–°–º–∏–∫—à–∏—Ä–æ–≤–∞—Ç—å** –Ω–æ–≤—ã–π –≥–æ–ª–æ—Å —Å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –º—É–∑—ã–∫–æ–π/—Ñ–æ–Ω–æ–º

**–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è:** –∫–ª–∏–ø–æ–≤ —Å –º—É–∑—ã–∫–æ–π, –æ–∑–≤—É—á–∫–∏ —Å —Ñ–æ–Ω–æ–≤—ã–º–∏ –∑–≤—É–∫–∞–º–∏, –ø–æ–¥–∫–∞—Å—Ç–æ–≤ —Å –¥–∂–∏–Ω–≥–ª–∞–º–∏

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```bash
python3 run_voice_changer.py \
  --method silero \
  --voice-model kseniya \
  --no-preserve-quality \
  --preserve-background \
  input_with_music.mp3 \
  output_new_voice_with_music.mp3
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ù–æ–≤—ã–π –≥–æ–ª–æ—Å (–ö—Å–µ–Ω–∏—è)
- –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –º—É–∑—ã–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∑–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã

---

## üìñ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ:

```bash
--preserve-background      # –í–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–æ–Ω–∞
```

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|----------|
| `--separation-model` | `UVR-MDX-NET-Inst_HQ_3` | –ú–æ–¥–µ–ª—å –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) |
| `--vocals-gain` | `0.0` | –ì—Ä–æ–º–∫–æ—Å—Ç—å –≥–æ–ª–æ—Å–∞ –≤ dB (0 = –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) |
| `--background-gain` | `-3.0` | –ì—Ä–æ–º–∫–æ—Å—Ç—å —Ñ–æ–Ω–∞ –≤ dB (-3 = –Ω–µ–º–Ω–æ–≥–æ —Ç–∏—à–µ) |

---

## üéõÔ∏è –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è

### `UVR-MDX-NET-Inst_HQ_3` ‚≠ê (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
--separation-model UVR-MDX-NET-Inst_HQ_3
```
**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- –ö–∞—á–µ—Å—Ç–≤–æ: –û—Ç–ª–∏—á–Ω–æ–µ
- –°–∫–æ—Ä–æ—Å—Ç—å: –ú–µ–¥–ª–µ–Ω–Ω–∞—è (~2-3 –º–∏–Ω –Ω–∞ 3-–º–∏–Ω –∞—É–¥–∏–æ)
- –õ—É—á—à–µ –≤—Å–µ–≥–æ –¥–ª—è –º—É–∑—ã–∫–∏ –∏ –≤–æ–∫–∞–ª–∞

### `UVR_MDXNET_KARA_2`
```bash
--separation-model UVR_MDXNET_KARA_2
```
**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- –ö–∞—á–µ—Å—Ç–≤–æ: –û—á–µ–Ω—å —Ö–æ—Ä–æ—à–µ–µ
- –°–∫–æ—Ä–æ—Å—Ç—å: –ë—ã—Å—Ç—Ä–∞—è (~1 –º–∏–Ω –Ω–∞ 3-–º–∏–Ω –∞—É–¥–∏–æ)
- –•–æ—Ä–æ—à–æ –¥–ª—è –∫–∞—Ä–∞–æ–∫–µ/–≤–æ–∫–∞–ª–∞

### `Kim_Vocal_2`
```bash
--separation-model Kim_Vocal_2
```
**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- –ö–∞—á–µ—Å—Ç–≤–æ: –•–æ—Ä–æ—à–µ–µ
- –°–∫–æ—Ä–æ—Å—Ç—å: –°—Ä–µ–¥–Ω—è—è
- –ë–∞–ª–∞–Ω—Å –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Å–∫–æ—Ä–æ—Å—Ç–∏

---

## üí° –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –∫–ª–∏–ø —Å –∂–µ–Ω—Å–∫–∏–º –≥–æ–ª–æ—Å–æ–º

```bash
python3 run_voice_changer.py \
  --method silero \
  --voice-model kseniya \
  --no-preserve-quality \
  --preserve-background \
  music_video.mp4 \
  output_video.mp4
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ò–∑–≤–ª–µ–∫–∞–µ—Ç –≥–æ–ª–æ—Å –∏–∑ –º—É–∑—ã–∫–∞–ª—å–Ω–æ–≥–æ —Ñ–æ–Ω–∞
2. –ú–µ–Ω—è–µ—Ç –≥–æ–ª–æ—Å –Ω–∞ –∂–µ–Ω—Å–∫–∏–π (–ö—Å–µ–Ω–∏—è)
3. –°–º–µ—à–∏–≤–∞–µ—Ç –Ω–æ–≤—ã–π –≥–æ–ª–æ—Å —Å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –º—É–∑—ã–∫–æ–π
4. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–∏–¥–µ–æ —Å –Ω–æ–≤—ã–º –≥–æ–ª–æ—Å–æ–º –∏ —Å—Ç–∞—Ä–æ–π –º—É–∑—ã–∫–æ–π

---

### –ü—Ä–∏–º–µ—Ä 2: –ü–æ–¥–∫–∞—Å—Ç —Å –¥–∂–∏–Ω–≥–ª–∞–º–∏

```bash
python3 run_voice_changer.py \
  --method silero \
  --voice-model eugene \
  --no-preserve-quality \
  --preserve-background \
  --vocals-gain 2 \
  --background-gain -5 \
  podcast.mp3 \
  podcast_new_voice.mp3
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `--vocals-gain 2` - –ì–æ–ª–æ—Å –≥—Ä–æ–º—á–µ –Ω–∞ 2 dB
- `--background-gain -5` - –î–∂–∏–Ω–≥–ª—ã —Ç–∏—à–µ –Ω–∞ 5 dB

---

### –ü—Ä–∏–º–µ—Ä 3: –ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

```bash
python3 run_voice_changer.py \
  --method silero \
  --voice-model kseniya \
  --no-preserve-quality \
  --preserve-background \
  --separation-model UVR_MDXNET_KARA_2 \
  audio.mp3 \
  output.mp3
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—É—é –º–æ–¥–µ–ª—å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è

---

## ‚öôÔ∏è –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –≠—Ç–∞–ø 1: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ (Audio Separation)
```
input.mp3 ‚Üí [AI Separator] ‚Üí vocals.wav + instrumental.wav
```

**–ú–æ–¥–µ–ª—å:** UVR-MDX-NET (state-of-the-art –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è)

### –≠—Ç–∞–ø 2: –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–∞ (Voice Changing)
```
vocals.wav ‚Üí [Voice Changer] ‚Üí new_vocals.wav
```

**–ú–µ—Ç–æ–¥—ã:** Silero TTS –∏–ª–∏ So-VITS-SVC

### –≠—Ç–∞–ø 3: –°–º–µ—à–∏–≤–∞–Ω–∏–µ (Audio Mixing)
```
new_vocals.wav + instrumental.wav ‚Üí output.mp3
```

**–†–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞:** –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–æ–º–∫–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

---

## üìä –ö–∞—á–µ—Å—Ç–≤–æ –∏ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏

| –§–∞–π–ª | –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ | –ö–∞—á–µ—Å—Ç–≤–æ |
|------|--------------|-----------------|----------|
| 3 –º–∏–Ω –∞—É–¥–∏–æ | 3 –º–∏–Ω | ~8-12 –º–∏–Ω | –û—Ç–ª–∏—á–Ω–æ–µ |
| 5 –º–∏–Ω –≤–∏–¥–µ–æ | 5 –º–∏–Ω | ~15-20 –º–∏–Ω | –û—Ç–ª–∏—á–Ω–æ–µ |
| 10 –º–∏–Ω –ø–æ–¥–∫–∞—Å—Ç | 10 –º–∏–Ω | ~25-35 –º–∏–Ω | –û—Ç–ª–∏—á–Ω–æ–µ |

**–§–∞–∑—ã:**
1. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ:** ~30% –≤—Ä–µ–º–µ–Ω–∏
2. **Voice Changer:** ~60% –≤—Ä–µ–º–µ–Ω–∏
3. **–°–º–µ—à–∏–≤–∞–Ω–∏–µ:** ~10% –≤—Ä–µ–º–µ–Ω–∏

---

## üé® –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≥—Ä–æ–º–∫–æ—Å—Ç–∏

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

```bash
# –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –±–∞–ª–∞–Ω—Å
--vocals-gain 0 --background-gain -3

# –ì–æ–ª–æ—Å –≤ —Ñ–æ–∫—É—Å–µ, —Ç–∏—Ö–∞—è –º—É–∑—ã–∫–∞
--vocals-gain 2 --background-gain -6

# –ì—Ä–æ–º–∫–∞—è –º—É–∑—ã–∫–∞, –≥–æ–ª–æ—Å –Ω–∞ —Ñ–æ–Ω–µ
--vocals-gain -2 --background-gain 0

# –¢–æ–ª—å–∫–æ –≥–æ–ª–æ—Å —Å–ª—ã—à–µ–Ω
--vocals-gain 3 --background-gain -10
```

---

## ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ö–æ—Ä–æ—à–æ:

‚úÖ –ú—É–∑—ã–∫–∞ + –≤–æ–∫–∞–ª (–ø–µ—Å–Ω–∏, –∫–∞—Ä–∞–æ–∫–µ)  
‚úÖ –ü–æ–¥–∫–∞—Å—Ç—ã —Å –¥–∂–∏–Ω–≥–ª–∞–º–∏  
‚úÖ –í–∏–¥–µ–æ —Å —Ñ–æ–Ω–æ–≤–æ–π –º—É–∑—ã–∫–æ–π  
‚úÖ –û–∑–≤—É—á–∫–∞ —Å ambient –∑–≤—É–∫–∞–º–∏

### –ß—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º–æ–π:

‚ö†Ô∏è –ú–Ω–æ–≥–æ —à—É–º–∞ –≤ –∑–∞–ø–∏—Å–∏  
‚ö†Ô∏è –ì–æ–ª–æ—Å –∏ –º—É–∑—ã–∫–∞ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—Ç—Å—è —Å–∏–ª—å–Ω–æ  
‚ö†Ô∏è –ù–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞  
‚ö†Ô∏è –°–ª–æ–∂–Ω—ã–µ –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω—ã–µ —Ç—Ä–µ–∫–∏

---

## üîç –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "Artifacts" –≤ –≥–æ–ª–æ—Å–µ

**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é –º–æ–¥–µ–ª—å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è:
```bash
--separation-model Kim_Vocal_2
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ú—É–∑—ã–∫–∞ —Å–ª–∏—à–∫–æ–º –≥—Ä–æ–º–∫–∞—è

**–†–µ—à–µ–Ω–∏–µ:** –£–º–µ–Ω—å—à–∏—Ç–µ –≥—Ä–æ–º–∫–æ—Å—Ç—å —Ñ–æ–Ω–∞:
```bash
--background-gain -6
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ì–æ–ª–æ—Å –ø–ª–æ—Ö–æ –æ—Ç–¥–µ–ª–∏–ª—Å—è

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª—É—á—à—É—é –º–æ–¥–µ–ª—å:
```bash
--separation-model UVR-MDX-NET-Inst_HQ_3
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—á–µ–Ω—å –¥–æ–ª–≥–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±—ã—Å—Ç—Ä—É—é –º–æ–¥–µ–ª—å:
```bash
--separation-model UVR_MDXNET_KARA_2
```

---

## üíæ –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã

–ü—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

```
/tmp/audio_bg_XXXXX/
‚îú‚îÄ‚îÄ vocals.wav          # –ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–π –≥–æ–ª–æ—Å
‚îú‚îÄ‚îÄ instrumental.wav    # –ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–π —Ñ–æ–Ω
‚îî‚îÄ‚îÄ processed_vocals.mp3 # –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –≥–æ–ª–æ—Å
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–∏ —Ñ–∞–π–ª—ã —É–¥–∞–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

### –î–ª—è –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö –∫–ª–∏–ø–æ–≤:

```bash
python3 run_voice_changer.py \
  --method silero \
  --voice-model kseniya \
  --no-preserve-quality \
  --preserve-background \
  --vocals-gain 1 \
  --background-gain -3 \
  music_clip.mp4 \
  output_clip.mp4
```

### –î–ª—è –ø–æ–¥–∫–∞—Å—Ç–æ–≤:

```bash
python3 run_voice_changer.py \
  --method silero \
  --voice-model eugene \
  --no-preserve-quality \
  --preserve-background \
  --vocals-gain 0 \
  --background-gain -5 \
  podcast.mp3 \
  podcast_new.mp3
```

---

## üìù –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏

```bash
python3 run_voice_changer.py \
  --method silero \               # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Silero TTS
  --voice-model kseniya \         # –ñ–µ–Ω—Å–∫–∏–π –≥–æ–ª–æ—Å –ö—Å–µ–Ω–∏—è
  --no-preserve-quality \         # –ë—ã—Å—Ç—Ä–µ–µ (–±–µ–∑ prosody)
  --preserve-background \         # –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–æ–Ω/–º—É–∑—ã–∫—É ‚ú®
  --separation-model UVR-MDX-NET-Inst_HQ_3 \  # –õ—É—á—à–∞—è –º–æ–¥–µ–ª—å
  --vocals-gain 0 \               # –ì–æ–ª–æ—Å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≥—Ä–æ–º–∫–æ—Å—Ç–∏
  --background-gain -3 \          # –§–æ–Ω —Ç–∏—à–µ –Ω–∞ 3 dB
  input_with_music.mp3 \          # –í—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª —Å –º—É–∑—ã–∫–æ–π
  output_new_voice.mp3            # –†–µ–∑—É–ª—å—Ç–∞—Ç: –Ω–æ–≤—ã–π –≥–æ–ª–æ—Å + —Å—Ç–∞—Ä–∞—è –º—É–∑—ã–∫–∞
```

---

**–£–¥–∞—á–∏! üéµ‚ú®**

