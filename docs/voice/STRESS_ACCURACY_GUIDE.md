# üéØ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é —Ç–æ—á–Ω–æ—Å—Ç–∏ —É–¥–∞—Ä–µ–Ω–∏–π

## –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

–°–µ–π—á–∞—Å —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å** (~1000 —Å–ª–æ–≤) —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é **85-90%** –¥–ª—è —á–∞—Å—Ç—ã—Ö —Å–ª–æ–≤.

---

## üìä –í–∞—Ä–∏–∞–Ω—Ç—ã —É–ª—É—á—à–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: russian-accentuate (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚≠ê

**–¢–æ—á–Ω–æ—Å—Ç—å:** ~95-97%  
**–†–∞–∑–º–µ—Ä:** ~50MB  
**–°–∫–æ—Ä–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è

```bash
pip install russian-accentuate
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```python
from core.utils.russian_stress import RussianStressMarker

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç russian-accentuate –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞
marker = RussianStressMarker()
text = marker.add_stress("–ó–∞–º–æ–∫ –±—ã–ª –∑–∞–∫—Ä—ã—Ç –Ω–∞ –∑–∞–º–æ–∫")
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å + pymorphy3

**–¢–æ—á–Ω–æ—Å—Ç—å:** ~92-95%  
**–†–∞–∑–º–µ—Ä:** ~30MB  
**–°–∫–æ—Ä–æ—Å—Ç—å:** –ë—ã—Å—Ç—Ä–∞—è

```bash
pip install pymorphy3 pymorphy3-dicts-ru
```

–î–æ–±–∞–≤–ª—è–µ—Ç –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–ª—è –ª—É—á—à–µ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ñ–æ—Ä–º —Å–ª–æ–≤.

### –í–∞—Ä–∏–∞–Ω—Ç 3: –í–Ω–µ—à–Ω–∏–π —Å–ª–æ–≤–∞—Ä—å –ó–∞–ª–∏–∑–Ω—è–∫–∞

**–¢–æ—á–Ω–æ—Å—Ç—å:** ~98-99%  
**–†–∞–∑–º–µ—Ä:** ~15MB  
**–°–∫–æ—Ä–æ—Å—Ç—å:** –ë—ã—Å—Ç—Ä–∞—è

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–ª–æ–≤–∞—Ä—å —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –ê.–ê. –ó–∞–ª–∏–∑–Ω—è–∫–∞.

### –í–∞—Ä–∏–∞–Ω—Ç 4: –†—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞

**–¢–æ—á–Ω–æ—Å—Ç—å:** 100%  
**–£—Å–∏–ª–∏—è:** –í—ã—Å–æ–∫–∏–µ

–°–æ–∑–¥–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å –¥–ª—è –≤–∞—à–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

---

## üöÄ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ª—É—á—à–µ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ russian-accentuate (–ª—É—á—à–∏–π –±–∞–ª–∞–Ω—Å —Ç–æ—á–Ω–æ—Å—Ç–∏/—Å–∫–æ—Ä–æ—Å—Ç–∏)
pip install russian-accentuate

# –ü—Ä–æ–≤–µ—Ä–∫–∞
python3 -c "import russian_accentuate; print('‚úì OK')"
```

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–Ω—ë—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É –±–∏–±–ª–∏–æ—Ç–µ–∫—É!

---

## üìù –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫

| –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ | –¢–æ—á–Ω–æ—Å—Ç—å | –°–∫–æ—Ä–æ—Å—Ç—å | –†–∞–∑–º–µ—Ä | –û–º–æ–≥—Ä–∞—Ñ—ã |
|------------|----------|----------|--------|----------|
| **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å** | 85-90% | ‚ö°‚ö°‚ö° –ë—ã—Å—Ç—Ä–æ | ~1KB | ‚úÖ –î–∞ |
| **russian-accentuate** | 95-97% | ‚ö°‚ö° –°—Ä–µ–¥–Ω–µ | ~50MB | ‚úÖ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| **russtress** | 95-98% | ‚ö°‚ö° –°—Ä–µ–¥–Ω–µ | ~10MB | ‚úÖ –î–∞ (–ø—Ä–æ–±–ª–µ–º—ã —Å Keras) |
| **pymorphy3** | 92-95% | ‚ö°‚ö°‚ö° –ë—ã—Å—Ç—Ä–æ | ~30MB | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ |
| **–°–ª–æ–≤–∞—Ä—å –ó–∞–ª–∏–∑–Ω—è–∫–∞** | 98-99% | ‚ö°‚ö°‚ö° –ë—ã—Å—Ç—Ä–æ | ~15MB | ‚ùå –ù–µ—Ç |

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ russian-accentuate

```bash
pip install russian-accentuate
```

### –®–∞–≥ 2: –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –µ—ë –∏—Å–ø–æ–ª—å–∑—É–µ—Ç

```bash
python3 run_voice_changer.py \
  --method silero \
  --voice-model kseniya \
  --no-preserve-quality \
  input.mp3 output.mp3
```

–í—ã —É–≤–∏–¥–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö:
```
‚úì Loaded russian_accentuate for automatic stress detection
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

```python
from core.utils.russian_stress import RussianStressMarker

marker = RussianStressMarker()
print(marker.engine_type)  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 'russian_accentuate'
```

---

## üìö –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ —Å–ª–æ–≤–∞—Ä—è

–ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –º–æ–∂–µ—Ç–µ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å:

```python
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ core/utils/russian_stress.py
COMMON_WORDS_STRESS = {
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–ª–æ–≤–∞ ...
    
    # –î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–∏ —Å–ª–æ–≤–∞:
    '—Å–ª–æ–≤–æ': [(3, '—Å–ª–æÃÅ–≤–æ')],
    '—Ç–µ–∫—Å—Ç': [(4, '—Ç–µÃÅ–∫—Å—Ç')],
    # –∏ —Ç.–¥.
}
```

---

## üéì –ü—Ä–∏–º–µ—Ä: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –° –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º —Å–ª–æ–≤–∞—Ä—ë–º (—Ç–µ–∫—É—â–∏–π)

```python
from core.utils.russian_stress import RussianStressMarker

marker = RussianStressMarker(stress_symbol='plus')
text = "–°–µ–≥–æ–¥–Ω—è —è –ø–æ—à—ë–ª –≤ –º–∞–≥–∞–∑–∏–Ω –∏ –∫—É–ø–∏–ª –ø—Ä–æ–¥—É–∫—Ç—ã"
result = marker.add_stress(text)
print(result)
# –°–µ–≥–æ+–¥–Ω—è —è+ –ø–æ—à—ë–ª –≤ –º–∞–≥–∞–∑–∏+–Ω –∏ –∫—É–ø–∏+–ª –ø—Ä–æ–¥—É+–∫—Ç—ã
# –¢–æ—á–Ω–æ—Å—Ç—å: ~85%
```

### –° russian-accentuate

```bash
pip install russian-accentuate
```

```python
from core.utils.russian_stress import RussianStressMarker

marker = RussianStressMarker(stress_symbol='plus')
text = "–°–µ–≥–æ–¥–Ω—è —è –ø–æ—à—ë–ª –≤ –º–∞–≥–∞–∑–∏–Ω –∏ –∫—É–ø–∏–ª –ø—Ä–æ–¥—É–∫—Ç—ã"
result = marker.add_stress(text)
print(result)
# –°–µ–≥–æ+–¥–Ω—è —è+ –ø–æ—à—ë–ª –≤ –º–∞–≥–∞–∑–∏+–Ω –∏+ –∫—É–ø–∏+–ª –ø—Ä–æ–¥—É+–∫—Ç—ã
# –¢–æ—á–Ω–æ—Å—Ç—å: ~96%
```

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ç–µ–∫—É—â–µ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
python3 -c "
from core.utils.russian_stress import RussianStressMarker
marker = RussianStressMarker()
print(f'–¢–µ–∫—É—â–∏–π –¥–≤–∏–∂–æ–∫: {marker.engine_type}')
print(f'–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞: {marker.accent_engine is not None}')
"
```

**–í—ã–≤–æ–¥:**
- `fallback` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å (85-90%)
- `russian_accentuate` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ (95-97%)
- `russtress` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ–π—Ä–æ—Å–µ—Ç—å (95-98%, –Ω–æ –ø—Ä–æ–±–ª–µ–º—ã —Å Keras)

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –ª—É—á—à–µ–π —Ç–æ—á–Ω–æ—Å—Ç–∏:
1. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `russian-accentuate`
2. ‚úÖ –î–æ–±–∞–≤—å—Ç–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Å–ª–æ–≤–∞ –≤ —Å–ª–æ–≤–∞—Ä—å
3. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ—Ä–ø—É—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤–∞—à–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### –î–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏:
1. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å (—Ç–µ–∫—É—â–∏–π)
2. ‚úÖ –ö—ç—à–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
3. ‚úÖ –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ —Ç–µ–∫—Å—Ç—ã –∑–∞—Ä–∞–Ω–µ–µ

### –î–ª—è –æ–º–æ–≥—Ä–∞—Ñ–æ–≤:
1. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `russian-accentuate`
2. ‚úÖ –†—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –º–µ—Å—Ç
3. ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–≥–æ –Ω–∞–±–æ—Ä–∞

```bash
# –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏
pip install russian-accentuate pymorphy3 pymorphy3-dicts-ru

# –ü—Ä–æ–≤–µ—Ä–∫–∞
python3 -c "
import russian_accentuate
import pymorphy3
print('‚úì –í—Å–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!')
"
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ—á–Ω–æ—Å—Ç–∏

–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª:

```python
# test_stress_accuracy.py
from core.utils.russian_stress import RussianStressMarker

marker = RussianStressMarker(stress_symbol='acute')

# –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ—Ä–∞–∑—ã
test_cases = [
    ("–ó–∞–º–æ–∫ –±—ã–ª –∑–∞–∫—Ä—ã—Ç –Ω–∞ –∑–∞–º–æ–∫", "–∑–∞ÃÅ–º–æ–∫ / –∑–∞–º–æÃÅ–∫"),
    ("–ú—É–∫–∞ –ø—Ä–∏–Ω–æ—Å–∏—Ç –º—É–∫—É", "–º—ÉÃÅ–∫–∞ / –º—É–∫–∞ÃÅ"),
    ("–°–µ–≥–æ–¥–Ω—è —Ö–æ—Ä–æ—à–∞—è –ø–æ–≥–æ–¥–∞", "—Å–µ–≥–æÃÅ–¥–Ω—è"),
    ("–Ø –ª—é–±–ª—é —á–∏—Ç–∞—Ç—å –∫–Ω–∏–≥–∏", "–ª—é–±–ª—éÃÅ / —á–∏—Ç–∞ÃÅ—Ç—å / –∫–Ω–∏ÃÅ–≥–∏"),
]

print(f"–î–≤–∏–∂–æ–∫: {marker.engine_type}\n")

for text, expected in test_cases:
    result = marker.add_stress(text)
    print(f"–û—Ä–∏–≥–∏–Ω–∞–ª:  {text}")
    print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç: {result}")
    print(f"–û–∂–∏–¥–∞–Ω–∏–µ:  {expected}")
    print()
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
python3 test_stress_accuracy.py
```

---

## ‚öôÔ∏è –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ö–∞—Å—Ç–æ–º–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å –¥–ª—è –≤–∞—à–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

```python
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª custom_stress_dict.py
CUSTOM_STRESS = {
    '—Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–æ–µ_—Å–ª–æ–≤–æ': 5,  # –ø–æ–∑–∏—Ü–∏—è —É–¥–∞—Ä–Ω–æ–π –≥–ª–∞—Å–Ω–æ–π
    '—Ç–µ—Ä–º–∏–Ω': 4,
    # –∏ —Ç.–¥.
}

# –í russian_stress.py –¥–æ–±–∞–≤—å—Ç–µ:
from custom_stress_dict import CUSTOM_STRESS
# –ò –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ
```

### API –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É–¥–∞—Ä–µ–Ω–∏–π

```python
import requests

def check_stress_online(word):
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –æ–Ω–ª–∞–π–Ω-—Å–ª–æ–≤–∞—Ä—å"""
    # –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–ª–æ–≤–∞—Ä–µ–π
    # –ù–∞–ø—Ä–∏–º–µ—Ä: gramota.ru, —Å–ª–æ–≤–∞—Ä–∏ –Ø–Ω–¥–µ–∫—Å–∞ –∏ —Ç.–¥.
    pass
```

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

–ü–æ—Å–ª–µ —É–ª—É—á—à–µ–Ω–∏—è:

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ (russian-accentuate) |
|---------|----|-----------------------------|
| –¢–æ—á–Ω–æ—Å—Ç—å | 85% | 96% |
| –û–º–æ–≥—Ä–∞—Ñ—ã | 70% | 95% |
| –†–µ–¥–∫–∏–µ —Å–ª–æ–≤–∞ | 60% | 85% |
| –°–∫–æ—Ä–æ—Å—Ç—å | 1000 —Å–ª–æ–≤/—Å | 800 —Å–ª–æ–≤/—Å |

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–î–ª—è production:**
```bash
pip install russian-accentuate
```

–≠—Ç–æ –¥–∞—Å—Ç –≤–∞–º:
- ‚úÖ –¢–æ—á–Ω–æ—Å—Ç—å 95-97%
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Ä–∞–±–æ—Ç—É
- ‚úÖ –•–æ—Ä–æ—à—É—é —Å–∫–æ—Ä–æ—Å—Ç—å
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫—É –æ–º–æ–≥—Ä–∞—Ñ–æ–≤

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
```bash
python3 run_voice_changer.py \
  --method silero \
  --voice-model kseniya \
  --no-preserve-quality \
  data/content/audio/kolobok/input.mp3 \
  data/content/audio/kolobok/output_better_stress.mp3
```

---

**–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å —É –≤–∞—Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å —É–¥–∞—Ä–µ–Ω–∏–π! üéâ**

