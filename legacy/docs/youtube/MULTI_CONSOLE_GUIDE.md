# üì± Multi-Console Support Guide

–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö Google Cloud Console –ø—Ä–æ–µ–∫—Ç–æ–≤ –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–≤–æ—Ç—ã API.

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
2. [–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ](#–∑–∞—á–µ–º-—ç—Ç–æ-–Ω—É–∂–Ω–æ)
3. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
4. [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
5. [–ü—Ä–∏–º–µ—Ä—ã](#–ø—Ä–∏–º–µ—Ä—ã)

---

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö Google Cloud Console –ø—Ä–æ–µ–∫—Ç–æ–≤ –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–≤–æ—Ç—ã YouTube Data API v3 –º–µ–∂–¥—É –∫–∞–Ω–∞–ª–∞–º–∏. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:

- **–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–≤–æ—Ç—É**: –ö–∞–∂–¥—ã–π –ø—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç —Å–≤–æ—é –∫–≤–æ—Ç—É 10,000 –µ–¥–∏–Ω–∏—Ü –≤ –¥–µ–Ω—å
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å**: –î–æ–±–∞–≤–ª—è—Ç—å –±–æ–ª—å—à–µ –∫–∞–Ω–∞–ª–æ–≤ –±–µ–∑ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞ –æ–¥–Ω–æ–π –∫–æ–Ω—Å–æ–ª–∏
- **–ò–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å**: –†–∞–∑–¥–µ–ª–∏—Ç—å –∫–∞–Ω–∞–ª—ã –ø–æ —Ä–∞–∑–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–∞–º –¥–ª—è –ª—É—á—à–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

---

## –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ

YouTube Data API v3 –∏–º–µ–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ª–∏–º–∏—Ç—ã:

- **10,000 –µ–¥–∏–Ω–∏—Ü –∫–≤–æ—Ç—ã –≤ –¥–µ–Ω—å** –Ω–∞ –æ–¥–∏–Ω Google Cloud Console –ø—Ä–æ–µ–∫—Ç
- **–ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ = 1,600 –µ–¥–∏–Ω–∏—Ü** (–æ–∫–æ–ª–æ 6 –∑–∞–≥—Ä—É–∑–æ–∫ –≤ –¥–µ–Ω—å –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º —Ç–∞—Ä–∏—Ñ–µ)

–ï—Å–ª–∏ —É –≤–∞—Å –º–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–æ–≤, –≤—ã –º–æ–∂–µ—Ç–µ –±—ã—Å—Ç—Ä–æ –¥–æ—Å—Ç–∏—á—å –ª–∏–º–∏—Ç–∞ –æ–¥–Ω–æ–π –∫–æ–Ω—Å–æ–ª–∏. –ò—Å–ø–æ–ª—å–∑—É—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω—Å–æ–ª–µ–π, –≤—ã –º–æ–∂–µ—Ç–µ:

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 10,000 –µ–¥–∏–Ω–∏—Ü √ó –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Å–æ–ª–µ–π
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞–Ω–∞–ª—ã –º–µ–∂–¥—É –∫–æ–Ω—Å–æ–ª—è–º–∏
- –£–≤–µ–ª–∏—á–∏—Ç—å –æ–±—â—É—é –ø—Ä–æ–ø—É—Å–∫–Ω—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –®–∞–≥ 1: –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–∏

–°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

**–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î:**
```bash
python3 core/database/migrations/scripts/run_migration_google_consoles.py
```

**–î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω –ë–î:**
```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª config/mysql_config_prod.yaml —Å –ø—Ä–æ–¥–∞–∫—à–Ω credentials
python3 core/database/migrations/scripts/run_migration_google_consoles.py --config config/mysql_config_prod.yaml
```

**–î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω (–∏—Å–ø–æ–ª—å–∑—É—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è):**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
export MYSQL_HOST=your_prod_host
export MYSQL_PORT=3306
export MYSQL_DATABASE=content_fabric
export MYSQL_USER=your_prod_user
export MYSQL_PASSWORD=your_prod_password

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é (–æ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)
python3 core/database/migrations/scripts/run_migration_google_consoles.py
```

**–ò–ª–∏ –µ—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É–∂–µ –≤ .env —Ñ–∞–π–ª–µ:**
```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ .env –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é
source .env  # –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ dotenv
python3 core/database/migrations/scripts/run_migration_google_consoles.py
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç:
- –¢–∞–±–ª–∏—Ü—É `google_consoles` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Å–æ–ª–µ–π
- –ü–æ–ª–µ `console_id` –≤ —Ç–∞–±–ª–∏—Ü–µ `youtube_channels`

### –®–∞–≥ 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Google Cloud Console

–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é –∫–æ–Ω—Å–æ–ª—å –≤ —Å–∏—Å—Ç–µ–º—É:

```bash
python scripts/account_manager.py console add "Console 1" \
  "your-client-id-1.apps.googleusercontent.com" \
  "GOCSPX-your-client-secret-1" \
  --credentials-file "credentials1.json" \
  --description "–û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Å–æ–ª—å"
```

–î–æ–±–∞–≤—å—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Å–æ–ª–∏:

```bash
python scripts/account_manager.py console add "Console 2" \
  "your-client-id-2.apps.googleusercontent.com" \
  "GOCSPX-your-client-secret-2" \
  --credentials-file "credentials2.json" \
  --description "–í—Ç–æ—Ä–∞—è –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤"
```

### –®–∞–≥ 3: –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–Ω—Å–æ–ª–µ–π

–ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤—Å–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω—Å–æ–ª–∏:

```bash
python scripts/account_manager.py console list
```

–í—ã–≤–æ–¥:
```
üì± Google Cloud Consoles:
   ‚úÖ Console 1 (ID: 1)
      –û–ø–∏—Å–∞–Ω–∏–µ: –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Å–æ–ª—å
      Credentials: credentials1.json
      –°–æ–∑–¥–∞–Ω–∞: 2025-01-XX XX:XX:XX
   ‚úÖ Console 2 (ID: 2)
      –û–ø–∏—Å–∞–Ω–∏–µ: –í—Ç–æ—Ä–∞—è –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤
      Credentials: credentials2.json
      –°–æ–∑–¥–∞–Ω–∞: 2025-01-XX XX:XX:XX
```

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞ —Å –∫–æ–Ω—Å–æ–ª—å—é

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –∫–∞–Ω–∞–ª–∞ —É–∫–∞–∂–∏—Ç–µ –∫–æ–Ω—Å–æ–ª—å:

```bash
python scripts/account_manager.py add-channel "My Channel" "@mychannel" \
  --console "Console 1" \
  --auto-auth
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Å–æ–ª–∏ –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–∞–Ω–∞–ª–∞

–ï—Å–ª–∏ –∫–∞–Ω–∞–ª —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–ª—è –Ω–µ–≥–æ –∫–æ–Ω—Å–æ–ª—å:

```bash
python scripts/account_manager.py set-console "My Channel" "Console 1"
```

### –£–¥–∞–ª–µ–Ω–∏–µ —Å–≤—è–∑–∏ —Å –∫–æ–Ω—Å–æ–ª—å—é

–ß—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å —Å–≤—è–∑—å –∫–∞–Ω–∞–ª–∞ —Å –∫–æ–Ω—Å–æ–ª—å—é:

```bash
python scripts/account_manager.py set-console "My Channel" "none"
```

### –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Å–æ–ª–∏

–£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Å–æ–ª–∏ (—Å–≤—è–∑–∏ —Å –∫–∞–Ω–∞–ª–∞–º–∏ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã):

```bash
python scripts/account_manager.py console remove "Console 1"
```

---

## –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–æ–≤ –º–µ–∂–¥—É –∫–æ–Ω—Å–æ–ª—è–º–∏

```bash
# –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–Ω—Å–æ–ª–∏
python scripts/account_manager.py console add "Main Console" \
  "client-id-1" "secret-1"

python scripts/account_manager.py console add "Secondary Console" \
  "client-id-2" "secret-2"

# –î–æ–±–∞–≤–ª—è–µ–º –∫–∞–Ω–∞–ª—ã —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–æ–Ω—Å–æ–ª—è–º–∏
python scripts/account_manager.py add-channel "Channel 1" "@channel1" \
  --console "Main Console"

python scripts/account_manager.py add-channel "Channel 2" "@channel2" \
  --console "Main Console"

python scripts/account_manager.py add-channel "Channel 3" "@channel3" \
  --console "Secondary Console"

python scripts/account_manager.py add-channel "Channel 4" "@channel4" \
  --console "Secondary Console"
```

–¢–µ–ø–µ—Ä—å:
- Channel 1 –∏ Channel 2 –∏—Å–ø–æ–ª—å–∑—É—é—Ç Main Console (10,000 –µ–¥–∏–Ω–∏—Ü –∫–≤–æ—Ç—ã)
- Channel 3 –∏ Channel 4 –∏—Å–ø–æ–ª—å–∑—É—é—Ç Secondary Console (10,000 –µ–¥–∏–Ω–∏—Ü –∫–≤–æ—Ç—ã)
- –û–±—â–∞—è –¥–æ—Å—Ç—É–ø–Ω–∞—è –∫–≤–æ—Ç–∞: 20,000 –µ–¥–∏–Ω–∏—Ü –≤ –¥–µ–Ω—å

### –ü—Ä–∏–º–µ—Ä 2: –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–∞–Ω–∞–ª–æ–≤

–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –∫–∞–Ω–∞–ª—ã –±–µ–∑ –∫–æ–Ω—Å–æ–ª–∏:

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞–Ω–∞–ª–æ–≤
python scripts/account_manager.py db list

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Å–æ–ª–∏ –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–∞–Ω–∞–ª–æ–≤
python scripts/account_manager.py set-console "Existing Channel 1" "Main Console"
python scripts/account_manager.py set-console "Existing Channel 2" "Secondary Console"
```

---

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**: `DatabaseConfigLoader` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ —É –∫–∞–Ω–∞–ª–∞ `console_id`
2. **–ï—Å–ª–∏ –∫–æ–Ω—Å–æ–ª—å —É–∫–∞–∑–∞–Ω–∞**: –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `client_id` –∏ `client_secret` –∏–∑ –∫–æ–Ω—Å–æ–ª–∏
3. **–ï—Å–ª–∏ –∫–æ–Ω—Å–æ–ª—å –Ω–µ —É–∫–∞–∑–∞–Ω–∞**: –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è credentials –∏–∑ —Å–∞–º–æ–≥–æ –∫–∞–Ω–∞–ª–∞ –∏–ª–∏ –∏–∑ `.env`
4. **–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å API**: `YouTubeClient` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ credentials –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞

---

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **OAuth —Ç–æ–∫–µ–Ω—ã**: –¢–æ–∫–µ–Ω—ã –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É `client_id` –∏ `client_secret`. –ï—Å–ª–∏ –≤—ã –º–µ–Ω—è–µ—Ç–µ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –∫–∞–Ω–∞–ª–∞, –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è.

2. **Credentials —Ñ–∞–π–ª—ã**: –ö–∞–∂–¥–∞—è –∫–æ–Ω—Å–æ–ª—å –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Å–≤–æ–π `credentials.json` —Ñ–∞–π–ª. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∏ –¥–æ—Å—Ç—É–ø–Ω—ã.

3. **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–≤–æ—Ç—ã**: –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–π—Ç–µ –∫–∞–Ω–∞–ª—ã —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ –º–µ–∂–¥—É –∫–æ–Ω—Å–æ–ª—è–º–∏ –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–≤–æ—Ç—ã.

4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –°–ª–µ–¥–∏—Ç–µ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–≤–æ—Ç—ã –≤ –∫–∞–∂–¥–æ–π –∫–æ–Ω—Å–æ–ª–∏ —á–µ—Ä–µ–∑ Google Cloud Console.

---

## Troubleshooting

### –ö–∞–Ω–∞–ª –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Å–æ–ª—å

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤—è–∑—å:
```bash
python scripts/account_manager.py db list
```

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Å–æ–ª—å:
```bash
python scripts/account_manager.py set-console "Channel Name" "Console Name"
```

### –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ—Å–ª–µ —Å–º–µ–Ω—ã –∫–æ–Ω—Å–æ–ª–∏

–ï—Å–ª–∏ –≤—ã —Å–º–µ–Ω–∏–ª–∏ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –∫–∞–Ω–∞–ª–∞, –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:

```bash
python scripts/account_manager.py authorize --platform youtube --account "Channel Name"
```

### –ö–æ–Ω—Å–æ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–Ω—Å–æ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:
```bash
python scripts/account_manager.py console list
```

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-XX  
**–í–µ—Ä—Å–∏—è:** 1.0

